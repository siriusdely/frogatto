{
id: "retracting_block_wide",
is_strict: true,
has_feet: false,
zorder: "@include data/zorder.cfg:interior_decor",
platform_area: [0,15,31,16],
editor_info: {
	category: "platforms",
},

properties: {
	material_sound: "'stone'",
#-------------------------- vars --------------------------#
	time_offset: { type: "int", default: 0, editor_info: { type: "int", value: "0" } },
	time_extended: { type: "int", default: 100, editor_info: { type: "int", value: "100" } },
	time_retracted: { type: "int", default: 200, editor_info: { type: "int", value: "200" } },
},

on_first_cycle: "[animation('retracted'), schedule(time_retracted - time_offset, animation('extending'))]",
on_enter_retracted_anim: "[if(cycle > 1, schedule(time_retracted, animation('extending'))), set(platform_area, [])]",
on_enter_extending_anim: "[set(platform_area, null),sound('platform-retracting-stone-slide-out'+1d4+'.wav')]",
on_end_extending_anim: "animation('extended')",
on_end_retracting_anim: "animation('retracted')",
on_enter_extended_anim: "schedule(time_extended, animation('retracting'))",
on_change_animation_failure: "animation(arg.previous_animation)",
on_enter_retracting_anim: "sound('platform-retracting-stone-slide-in'+1d4+'.wav')",

animation: [
	{
		id: "retracted",
		image: "props/retracting-blocks.png",
		rect: [128,32,159,63],
		frames: 1,
		duration: 1000000,
	},
	{
		id: "retracting",
		image: "props/retracting-blocks.png",
		rect: [0,32,31,63],
		frames: 4,
		duration: 5,
	},
	{
		id: "extending",
		image: "props/retracting-blocks.png",
		rect: [0,32,31,63],
		frames: 4,
		duration: 5,
		play_backwards: true,
	},
	{
		id: "extended",
		image: "props/retracting-blocks.png",
		rect: [0,32,31,63],
		frames: 1,
		duration: 1000000,
	},
],
}