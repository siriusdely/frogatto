{
id: "save_arch",
zorder: -5,
editor_info: {
	category: "props",
},

properties: {
	frogatto_near: "level.player.x > self.x + 35 and
					level.player.x < self.x + 60 and
					level.player.y > self.y and
					level.player.y < self.y + img_h and
					null=vars.already_ran",
	add_fauxgatto: "[
		spawn('${type}.fauxgatto', level.player.midpoint_x, level.player.midpoint_y, level.player.facing),
		set(vars.already_ran, true),]",
	},

on_create: "spawn('${type}.other_half', mid_x+119, mid_y, facing)",

timer_frequency:3,
on_timer: "if(frogatto_near, [
	add_fauxgatto,
	screen_flash([0,127,0,155], [100,50,100,-55], 5),
	checkpoint_game(),
	])",
	
on_load: "if(frogatto_near, [
	add_fauxgatto,
	add(level.player.y, -50),
	])",

animation: {
	id: "normal",
	image: "wip/save-arch-tmp.png",
	rect: [60,104,104,255],
	duration: 10000,
},

object_type: [{
	id: "other_half",
	zorder: 5,

	animation: {
		id: "normal",
		image: "wip/save-arch-tmp.png",
		rect: [104,104,177,255],
		duration: 10000,
	},
	},
	{
	id: "fauxgatto",
	zorder: -1,
	
	on_create: "[
		set(animation, level.player.animation),
		set(time_in_animation, level.player.time_in_animation),
		set(time_in_animation_delta, 0),
		set(x, level.player.x),
		set(y, level.player.y),
		transform(range(51), schedule(v, set(velocity_y, -(50-v)*4.5))),
		transform(range(51), schedule(v, set(alpha, 255-v*2.5))),
		schedule(51, fire_event('start_bob')),
		]",
		
	on_start_bob: "[
		set(start_y, y), 
		if(sin(cycle*2.1) < 0.1,
			fire_event('bob'),
			schedule(1, fire_event('start_bob')),
			)]",
	on_bob: "[
		set(y, start_y+sin(cycle*0.1)*18*sin(cycle*2)/4+0.75),
		schedule(1, fire_event('bob')),]",
	
	animation: [
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "stand",
			duplicates: 6,
			rect: [2,2,33,34],
			frames: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "freeze",
			duplicates: 6,
			rect: [2,2,33,34],
			frames: 3,
			duration: 100000000,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "stand",

			//blink variant
			rect: [107,2,138,34],
			frames: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "stand_up_slope",
			x: 212,
			y: 2,
			w: 32,
			h: 35,
			frames: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "stand_down_slope",
			x: 317,
			y: 2,
			w: 32,
			h: 35,
			frames: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "lookup",
			rect: [37,233,68,265],
			frames: 1,
			duration: 3,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "enter_lookup",
			rect: [2,233,33,265],
			frames: 1,
			duration: 3,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "crouch",
			rect: [107,197,138,229],
			frames: 1,
			duration: 1,
			rotate_on_slope: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "enter_crouch",
			rect: [2,197,33,229],
			frames: 3,
			duration: 3,
			rotate_on_slope: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "leave_crouch",
			rect: [2,197,33,229],
			frames: 3,
			duration: 3,
			play_backwards: true,
			rotate_on_slope: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "roll",
			velocity_x: 500,
			x: 107,
			y: 197,
			w: 32,
			h: 33,
			frames: 11,
			duration: 3,
			scale: 2,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "walk",
			rect: [2,110,49,157],
			frames: 8,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "run",
			x: 410,
			y: 95,
			w: 48,
			h: 48,
			frames: 4,
			frames_per_row: 2,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "skid",
			x: 461,
			y: 40,
			w: 48,
			h: 48,
			frames: 1,
			duration: 10,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "turn",
			x: 387,
			y: 40,
			w: 32,
			h: 33,
			frames: 1,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "jump",
			x: 2,
			y: 38,
			w: 32,
			h: 48,
			frames: 2,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "bumphead",
			rect: [422,2,453,36],
			duration: 5,
			frames: 1,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "fall",
			x: 72,
			y: 38,
			w: 32,
			h: 48,
			duration: 12,
			frames: 2,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "land",
			x: 142,
			y: 38,
			w: 32,
			h: 48,
			duration: 4,
			frames: 2,
		},
		{
			image: "characters/fat-frogatto-spritesheet1.png",
			pad: 3,
			id: "swallow",
			x: 2,
			y: 269,
			w: 49,
			h: 38,
			duration: 6,
			frames: 6,
		},
		{
			image: "characters/fat-frogatto-spritesheet1.png",
			pad: 3,
			id: "spit",
			x: 314,
			y: 269,
			w: 34,
			h: 35,
			duration: 3,
			frames: 3,
		},
		{
			image: "characters/frogatto-spritesheet5.png",
			pad: 3,
			id: "attack",
			rect: [2,151,33,188],
			frames: 8,
			duration: 2,
			reverse: false,
		},
		{
			image: "characters/frogatto-spritesheet5.png",
			pad: 3,
			id: "walk_attack",
			rect: [2,233,33,270],
			frames: 4,
			duration: 4,
			reverse: false,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "run_attack",
			x: 2,
			y: 403,
			w: 68,
			h: 30,
			frames: 5,
			duration: 3,
			reverse: false,
		},
		{
			image: "characters/frogatto-spritesheet5.png",
			pad: 3,
			id: "jump_attack",
			rect: [2,192,50,229],
			frames: 8,
			duration: 2,
			reverse: false,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "firebreath_begin",
			rect: [286,476,319,510],
			frames: 3,
			duration: 2,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "firebreath_cycle",
			rect: [360,476,393,510],
			frames: 2,
			duration: 2,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "firebreath_end",
			rect: [286,476,319,510],
			frames: 3,
			duration: 2,
			play_backwards: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "fall_spin_attack",
			x: 3,
			y: 436,
			w: 32,
			h: 42,
			frames: 8,
			duration: 3,
			reverse: false,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "hurt",
			rect: [271,351,303,383],
			frames: 1,
			duration: 18,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "interact",
			collide_x: 10,
			collide_y: 6,
			collide_w: 15,
			collide_h: 16,
			feet_x: 16,
			feet_y: 32,
			x: 72,
			y: 161,
			w: 32,
			h: 33,
			frames: 4,
			duration: 4,
			scale: 2,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet1.png",
			pad: 3,
			id: "slide",
			x: 352,
			y: 40,
			w: 32,
			h: 34,
			duration: 30,
			frames: 1,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "push",
			x: 413,
			y: 49,
			w: 47,
			h: 48,
			frames: 6,
			frames_per_row: 2,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_side_idle",
			x: 3,
			y: 85,
			w: 39,
			h: 36,
			frames: 6,
			frames_per_row: 3,
			duration: 6,
			reverse: true,
		},

		//solid area not set as it would cause collision problems with the level
		//solid_area=8,13,30,27
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_down_idle",
			x: 129,
			y: 85,
			w: 39,
			h: 36,
			frames: 6,
			frames_per_row: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_up_idle",
			x: 255,
			y: 85,
			w: 39,
			h: 36,
			frames: 6,
			frames_per_row: 3,
			duration: 6,
			reverse: true,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_side",
			x: 3,
			y: 163,
			w: 39,
			h: 36,
			frames: 3,
			duration: 10,
		},

		//solid area not set as it would cause collision problems with the level
		//solid_area=8,13,30,27
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_down",
			x: 129,
			y: 163,
			w: 39,
			h: 36,
			frames: 3,
			duration: 10,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "swim_up",
			x: 255,
			y: 163,
			w: 39,
			h: 36,
			frames: 3,
			duration: 10,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "energyshot_jump",
			rect: [1,415,41,458],
			frames: 2,
			frames_per_row: 1,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "energyshot_down_slope",
			rect: [45,415,85,458],
			frames: 2,
			frames_per_row: 1,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "energyshot_up_slope",
			rect: [89,415,129,458],
			frames: 2,
			frames_per_row: 1,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet2.png",
			pad: 3,
			id: "energyshot",
			rect: [133,415,173,458],
			frames: 2,
			frames_per_row: 1,
			duration: 5,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "item_get_begin",
			rect: [1,335,32,367],
			frames: 4,
			duration: 10,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "item_get_hold",
			rect: [106,335,137,367],
			frames: 1,
			duration: 30,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "item_get_end",
			rect: [1,335,32,367],
			frames: 4,
			duration: 10,
			play_backwards: true,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_geez",
			rect: [1,1,36,38],
			frames: 8,
			reverse: true,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet4.png",
			pad: 3,
			id: "emote_oh",
			rect: [1,1,36,38],
			frames: 15,
			frames_per_row: 5,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_confused",
			rect: [1,52,36,89],
			frames: 14,
			frames_per_row: 7,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_impatient",
			rect: [323,1,358,38],
			frames: 16,
			frames_per_row: 4,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_raisedfinger",
			rect: [1,144,36,181],
			frames: 14,
			frames_per_row: 7,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_talk",
			rect: [1,236,36,273],
			frames: 16,
			frames_per_row: 8,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet3.png",
			pad: 3,
			id: "emote_nod",
			rect: [323,175,358,212],
			frames: 16,
			frames_per_row: 4,
			duration: 6,
		},
		{
			image: "characters/frogatto-spritesheet-idle.png",
			pad: 1,
			id: "idle_eyeball",
			rect: [1,1,34,34],
			frames: 43,
			duration: 6,
		},
	]
	},
	],
}
